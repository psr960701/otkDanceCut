# 交互式音频拼接工具

这是一个功能强大的音频拼接工具，支持交互式操作，适用于舞蹈练习、活动准备等场景。

## 功能特点

- 🎵 **音频拼接**：将随舞目录下的音频文件无缝拼接
- ⏰ **倒计时过渡**：使用倒计时.mp3作为音频之间的过渡
- 🎲 **两种模式**：支持随机拼接和顺序拼接
- 💬 **交互式界面**：友好的命令行交互，易于使用
- 📊 **详细信息**：输出拼接后的歌曲顺序和总时长

## 安装依赖

首先确保你的环境中已经安装了Python 3.6或更高版本。

```bash
# 安装所需依赖
pip install -r requirements.txt
```

## 使用方法

### 交互式工具

运行交互式音频拼接工具：

```bash
python interactive_audio_splicer.py
```

工具会引导你完成以下操作：

1. **选择拼接模式**：随机拼接或顺序拼接
2. **输入输出文件名**：默认输出为output.mp3
3. **确认操作**：确认后开始拼接

### 示例输出

```
============================================================
                       欢迎使用交互式音频拼接工具
============================================================

? 请选择拼接模式： 随机拼接

? 请输入输出文件名（默认：output.mp3）： output.mp3

? 拼接模式：随机
输出文件：output.mp3
是否开始拼接？ Yes

开始拼接音频...
已加载倒计时音频：倒计时.mp3

正在随机打乱音频顺序...

拼接顺序：
----------------------------------------
1. ヴィラン（Villain） 1分19秒.MP3
2. 12_fan_club pjsk ver 副歌.MP3
3. antiYou 副歌 35秒.MP3
----------------------------------------
总时长：02:51

正在导出拼接后的音频到 output.mp3...

============================================================
                          音频拼接完成！
                      输出文件：output.mp3
                         总时长：02:51
============================================================
```

## 文件结构

```
├── 随舞/               # 存放待拼接的音频文件
├── 倒计时.mp3          # 倒计时过渡音频
├── interactive_audio_splicer.py  # 交互式音频拼接工具
├── requirements.txt    # 项目依赖
└── README.md           # 项目说明
```

## requirements.txt中文注释问题

### 问题描述
在Windows系统中，当requirements.txt文件包含中文注释时，使用`pip install -r requirements.txt`可能会遇到编码错误。

### 解决方案

1. **使用GBK编码**：在Windows系统中，pip默认使用GBK编码读取requirements.txt文件

2. **自动修复脚本**：使用项目中的`fix_encoding.py`脚本可以自动修复编码问题：

```bash
python fix_encoding.py
```

3. **手动修复**：使用文本编辑器（如Notepad++）将文件编码转换为GBK

## 注意事项

1. 确保`随舞`目录存在且包含音频文件
2. 确保`倒计时.mp3`文件存在于项目根目录
3. 支持的音频格式：MP3、WAV、OGG、FLAC、M4A
4. 拼接后的音频默认保存为MP3格式

## 常见问题

### Q: 为什么提示找不到音频文件？
A: 请确保`随舞`目录存在于项目根目录，并且包含有效的音频文件。

### Q: 为什么拼接后的音频没有倒计时？
A: 请确保`倒计时.mp3`文件存在于项目根目录。

### Q: 为什么中文注释在requirements.txt中显示乱码？
A: 请确保文件使用GBK编码保存，或使用`fix_encoding.py`脚本修复编码。

## 更新日志

### v1.0.0 (2024-12-22)
- 实现交互式音频拼接功能
- 支持随机和顺序拼接模式
- 添加中文界面支持
- 修复requirements.txt中文注释问题

## 许可证

MIT License
